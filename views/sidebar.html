<!doctype html>
<html lang="en">
	<head>
		<title>Sidebar 01</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="../public/css/style.css">

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.css">
		<link rel="stylesheet" href="https://uicdn.toast.com/editor/2.0.0/toastui-editor.min.css">
		
		<link rel="stylesheet" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css">
		<link rel="stylesheet" href="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.css">

		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"></script>
		<!-- bootstrap 4.6.0 -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" crossorigin="anonymous"/>

		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" crossorigin="anonymous"></script>
		<!-- Popup for bootstrap tooltips or popovers  -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>

		<!-- TOAST Date  -->
		<script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>
		<script src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.js"></script>

		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet"/>

		<script src="../public/js/includeHTML.js"></script>
		
		<style>
			.tui-datepicker {
				z-index: 1;
			}
		</style>
	</head>
	<body>
		
		<div class="wrapper d-flex align-items-stretch">

			<!-- slkdfjsldkfjsdlkfjsdlkfj 사이드 바 넣쟈 -->
			<nav id="sidebar" include-html="./sidebaaar.html"> </nav>

			<!-- Page Content  -->
			<div id="content" class="p-4 p-md-5" >

			<!-- 여기에 컨텐츠 임베딩  -->

				<nav class="navbar navbar-expand-lg navbar-light bg-light">
					<div class="container-fluid">

						<button type="button" id="sidebarCollapse" class="btn btn-primary">
							<i class="fa fa-bars"></i>
							<span class="sr-only">Toggle Menu</span>
						</button>
						<button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
							<i class="fa fa-bars"></i>
						</button>

						<div class="collapse navbar-collapse" id="navbarSupportedContent">
							<ul class="nav navbar-nav ml-auto">
								<li class="nav-item active">
									<a class="nav-link" href="#">Home</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="#">About</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="#">Portfolio</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="#">Contact</a>
								</li>
							</ul>
						</div>
					</div>
				</nav>
				<script src="../public/js/sidebar/main.js"></script>
				<div class="row">
					<div class="col-md-12 d-flex ">
						<h2 class="mb-4-md">Calendar</h2>
						<button type="button" class="btn btn-outline-warning ml-auto btn-sm" style="height: 34px; margin-top: 7px; " data-toggle="modal" data-target="#addTask" data-whatever="@getbootstrap">일정등록</button>
					</div>
				</div>

				<!-- FullCalendar 5.6.0 Standard -->
				<link href="../public/js/fullcalendar-5.6.0/lib/main.css" rel="stylesheet" />
				<script src="../public/js/fullcalendar-5.6.0/lib/main.js"></script>
				<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.js"></script>
				<script src="https://unpkg.com/tippy.js@6"></script>

				<!-- color
				#BAD6F0 Default (TA업무)
				#EBE7BF  미팅
				#BFC3EB 프로젝트
				#EFCABB 외근
				#F0BABC 휴가 // 국가 공휴일 및 회사 휴일
				#E9D8C1 출장
				#C6E4D9 기타-->

				<script>

					// get Today
					function getToday(){

					}

					// get events
					function getEvents(){

					}

					// set events
					function setEvents(data){

					}

					var calendar = '';
					var calendar2 = '';

					document.addEventListener("DOMContentLoaded", function () {
						var calendarE2 = document.getElementById("calendar2");

						calendar2 = new FullCalendar.Calendar(calendarE2, {
							headerToolbar: { left: "", center: "", right: "listDay,listWeek,listMonth" },
							selectable: true,
							timeZone: "KO",
							initialDate: "2021-04-12",
							initialView: "listMonth",
							//   navLinks: true, // can click day/week names to navigate views
							editable: false,
							titleFormat: { year: 'numeric', month: 'long', day: 'numeric' },
							customButtons: {
							listDay: {
							// icon: "right-single-arrow",
							text: 'Day',
							click: function() {                       
							calendar2.changeView('listDay');
							}
							},
							listWeek: {
							// icon: "right-single-arrow",
							text: 'Week',
							click: function() {                       
							calendar2.changeView('listWeek');
							}
							},
							listMonth: {
							// icon: "right-single-arrow",
							text: 'Month',
							click: function() {                       
							calendar2.changeView('listMonth');
							}
							},
							},
							eventClick: function (info) {
								$('.popover').popover('hide');
								var eventObj = info.event;
								if (eventObj.title) {
								console.log("Event Name = " + eventObj.title);

								$('#addTask2').modal('show');
								}
							},
							dayMaxEvents: true, // allow "more" link when too many events
							events: [
										{
											title: "All Day Event",
											start: "2021-04-01",
											color: "#f0babb", // 개별 컬러
											status: "1",	// 1: planed, 2 : ongoing, 3: complete
											type: "1",	// 1 : meeting
											site: "노무법인",
											chargeable: "1",
											total_hour : "6",
											left_hour : "3",
											bill_hour : "2",
											work_hour : "1",
											description: "미팅 4시간 함",
										},
										{
											title: "Long Event",
											start: "2021-04-07",
											end: "2021-04-10",
											color: "#BFC3EB",
											status: "1",	// 1: planed, 2 : ongoing, 3: complete
											type: "1",	// 1 : meeting
											site: "test",
											chargeable: "0",
											total_hour : "40",
											left_hour : "38",
											bill_hour : "2",
											work_hour : "1",
											description: "test2222",
										},
										{
											groupId: 999,
											title: "Repeating Event",
											start: "2021-04-04T16:00:00",
											color: "#EFCABB",
											status: "1",	// 1: planed, 2 : ongoing, 3: complete
											type: "1",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : "6",
											left_hour : "3",
											bill_hour : "2",
											work_hour : "1",
											description: "test3333",
										},
										{
											groupId: 999,
											title: "Repeating Event",
											start: "2021-04-16T16:00:00",
											color: "#E9D8C1",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Conference",
											start: "2021-04-11",
											end: "2021-04-13",
											color: "#C6E4D9",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Meeting",
											start: "2021-04-12T10:30:00",
											end: "2021-04-12T12:30:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Lunch",
											start: "2021-04-12T12:00:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Meeting",
											start: "2021-04-12T14:30:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Happy Hour",
											start: "2021-04-12T17:30:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Dinner",
											start: "2021-04-12T20:00:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Birthday Party",
											start: "2021-04-13",
											allDay: "true",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Click for Google",
											//   url: "http://google.com/",
											start: "2021-04-24",
											color: "#EBE7BF",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											start: "2021-04-22",
											end: "2021-04-22",
											title: "광복절",
											display: "background",
											color: "#F0BABC",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											start: "2021-04-22",
											end: "2021-04-22",
											title: "광복절testtt",
											color: "#F0BABC",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "compan5232",
											chargeable: "0",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "tesdsdst4444",
										},
							],
							//   전체 컬러
							eventColor: "#BAD5F0",
							eventTextColor: "#000",
						});

						calendar2.render();
					});

					document.addEventListener("DOMContentLoaded", function () {
						var calendarEl = document.getElementById("calendar");

						calendar = new FullCalendar.Calendar(calendarEl, {
							headerToolbar: {
								left: "prevYear,prev,next,nextYear, today",
								center: "title",
								right: "dayGridMonth,dayGridWeek,timeGridDay",
							},
							selectable: true,
							timeZone: "KO",
							initialDate: "2021-04-12",
							navLinks: true, // can click day/week names to navigate views
							editable: true,
							customButtons: {
								dayGridMonth: {
									// icon: "right-single-arrow",
									text: 'Month',
									click: function() {
										$('.popover').popover('hide');  
										calendar.changeView('dayGridMonth');
									}
								},
								dayGridWeek: {
									// icon: "right-single-arrow",
									text: 'Week',
									click: function() {
										$('.popover').popover('hide');
										calendar.changeView('timeGridWeek');
									}
								},
								timeGridDay: {
									// icon: "right-single-arrow",
									text: 'Day',
									click: function() {
										$('.popover').popover('hide');
										calendar.changeView('timeGridDay');
									}
								},
								listMonth: {
									// icon: "right-single-arrow",
									text: 'list',
									click: function() {
										$('.popover').popover('hide');
										calendar.changeView('listMonth');
									}
								},
								prev: {
									// icon: "right-single-arrow",
									click: function() {
										$('.popover').popover('hide');
                    					calendar.prev();
									}
								},
								next: {
									// icon: "right-single-arrow",
									click: function() {
										$('.popover').popover('hide');
                    					calendar.next();
									}
								},
								prevYear: {
									// icon: "right-single-arrow",
									click: function() {
										$('.popover').popover('hide');
                    					calendar.prevYear();
									}
								},
								nextYear: {
									// icon: "right-single-arrow",
									click: function() {
										$('.popover').popover('hide');
                    					calendar.nextYear();
									}
								},
								today: {
									// icon: "right-single-arrow",
									text:'today',
									click: function() {
										$('.popover').popover('hide');
                    					calendar.today();
									}
								},
							},
							eventClick: function (info) {
								var eventObj = info.event;
								if (eventObj.title) {
									calendar2.gotoDate(eventObj.start);
									calendar2.changeView('listDay');
								}
								$('[data-toggle="popover"]').not($(info.el)).popover('hide');
							},
							// eventMouseEnter
							eventDidMount: function(info) {
								$(info.el).attr('data-toggle','popover');
								$('.popover').popover('hide');

								if( info.event.display !== 'background'){
									$(info.el).popover({ 
										trigger: "click hover", 
										title: popTitle(info.event),
										content:popContent(info.event),
										container: 'body',
										//   template: makePopoverTemplate(info.event),
										html: true,
										placement: 'auto',
									});
								}

								// $(info.el).css('border-top','4px solid '+info.event._def.ui.borderColor+'') ;

								// tippy(info.el, {
								//     content:  '클릭시 고정됩니다.',//이벤트 디스크립션을 툴팁으로 가져옵니다. 
								// });

							},
							select: function (info) {
								calendar2.gotoDate(info.startStr);
								calendar2.changeView('listDay');
								popoverElement = $(info.jsEvent.target);
								// alert("selected " + info.startStr + "   ");
								// console.log(info.view);
								// console.log(info.jsEvent);
								// console.log(popoverElement);
								$('[data-toggle="popover"]').popover('hide');

							},
							dayMaxEvents: true, // allow "more" link when too many events
							events: [
										{
											title: "All Day Event",
											start: "2021-04-01",
											color: "#f0babb", // 개별 컬러
											status: "1",	// 1: planed, 2 : ongoing, 3: complete
											type: "1",	// 1 : meeting
											site: "노무법인",
											chargeable: "1",
											total_hour : "6",
											left_hour : "3",
											bill_hour : "2",
											work_hour : "1",
											description: "미팅 4시간 함",
										},
										{
											title: "Long Event",
											start: "2021-04-07",
											end: "2021-04-10",
											color: "#BFC3EB",
											status: "1",	// 1: planed, 2 : ongoing, 3: complete
											type: "1",	// 1 : meeting
											site: "test",
											chargeable: "0",
											total_hour : "40",
											left_hour : "38",
											bill_hour : "2",
											work_hour : "1",
											description: "test2222",
										},
										{
											groupId: 999,
											title: "Repeating Event",
											start: "2021-04-04T16:00:00",
											color: "#EFCABB",
											status: "1",	// 1: planed, 2 : ongoing, 3: complete
											type: "1",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : "6",
											left_hour : "3",
											bill_hour : "2",
											work_hour : "1",
											description: "test3333",
										},
										{
											groupId: 999,
											title: "Repeating Event",
											start: "2021-04-16T16:00:00",
											color: "#E9D8C1",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Conference",
											start: "2021-04-11",
											end: "2021-04-13",
											color: "#C6E4D9",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Meeting",
											start: "2021-04-12T10:30:00",
											end: "2021-04-12T12:30:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Lunch",
											start: "2021-04-12T12:00:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Meeting",
											start: "2021-04-12T14:30:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Happy Hour",
											start: "2021-04-12T17:30:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Dinner",
											start: "2021-04-12T20:00:00",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Birthday Party",
											start: "2021-04-13",
											allDay: "true",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											title: "Click for Google",
											//   url: "http://google.com/",
											start: "2021-04-24",
											color: "#EBE7BF",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											start: "2021-04-22",
											end: "2021-04-22",
											title: "광복절",
											display: "background",
											color: "#F0BABC",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "company2",
											chargeable: "1",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "test4444",
										},
										{
											start: "2021-04-22",
											end: "2021-04-22",
											title: "광복절testtt",
											color: "#F0BABC",
											status: "0",	// 1: planed, 2 : ongoing, 3: complete
											type: "3",	// 1 : meeting
											site: "compan5232",
											chargeable: "0",
											total_hour : 0,
											left_hour : 0,
											bill_hour : 0,
											work_hour : 0,
											description: "tesdsdst4444",
										},
							],
							//   전체 컬러
							eventColor: "#BAD5F0",
							eventTextColor: "#000",
						});

						calendar.render();
					});

					var result = '';
					function makePopoverTemplate(obj){

						var title = obj.title;
						var description = obj.extendedProps.description == 'undefined' ? obj.extendedProps.description : '';
						var color = obj._def.ui.borderColor;
						result = '<div class="popover" role="tooltip" style="border-top: 4px solid '+color+';" data-color="'+color+'">'
								+'<div class="arrow"></div>'
								+'<h3 class="popover-header" ></h3>'
								+'<div class="popover-body"></div>'
								+'</div>';
						return result;
					}

					function popContent(obj) {
						// var title = obj.title == 'undefined' ? obj.title : '';
						var site = obj.extendedProps.site !== 'undefined' ? obj.extendedProps.site : '';
						var description = obj.extendedProps.description !== 'undefined' ? obj.extendedProps.description : '';
						// var type = obj.extendedProps.type !== 'undefined' ? obj.extendedProps.type : '';
						var type = obj.extendedProps.type !== 'undefined' ? obj.extendedProps.type : '1';
						type = type == '1' ? 'Planned' : type == '2' ? 'Ongoing' : 'Complete';
						// var charge = obj.extendedProps.chargeable !== 'undefined' ? obj.extendedProps.chargeable : '';
						var charge = obj.extendedProps.chargeable !== 'undefined' ? obj.extendedProps.chargeable : '1';
						charge = charge == '1' ? 'Non-Chargeable' : 'Chargeable';
						var totalHour = obj.extendedProps.total_hour !== 'undefined' ? obj.extendedProps.total_hour : 0;
						var billHour = obj.extendedProps.bill_hour !== 'undefined' ? obj.extendedProps.bill_hour : 0;

						result = '<div class="row">'
								+'<div class="col-3 font-weight-bold">Site</div>'
								+'<div class="col">'+site+'</div>'
								+'</div>'
								+'<div class="row">'
								+'<div class="col-3 font-weight-bold">Type</div>'
								+'<div class="col">'+type+'</div>'
								+'</div>'
								+'<div class="row">'
								+'<div class="col-3 font-weight-bold">charge</div>'
								+'<div class="col">'+charge+'</div>'
								+'</div>'
								+'<div class="row">'
								+'<div class="col-3 font-weight-bold">Tot.Hr</div>'
								+'<div class="col-3">'+totalHour+'</div>'
								+'<div class="col-3 font-weight-bold">Bill.Hr</div>'
								+'<div class="col-3">'+billHour+'</div>'
								+'</div>'
								+'<hr />'
								+'<div class="row">'
								+'<div class="col-6">'
								+'<a class="btn btn-secondary btn-sm btn-block">Delete</button></div>'
								+'<div class="col-6"><a class="btn btn-primary btn-sm btn-block" id="button2" data-toggle="modal" data-target="#popup" data-backdrop="static" data-name="이름" data-age="98"><span data-whatever="tettt">Edit</span></button></div>'
								+'</div>';

						return result;

					}

					function popTitle(obj) {
						var title = obj.title !== 'undefined' ? obj.title : '';
						var date = obj.start;
						result = '<span style="color: '+obj._def.ui.borderColor+';">'
								+'<i class="fa fa-square" aria-hidden="true"></i>'
								+'</span> '
								+ title
								+'<div><small class="text-muted">'+date+'</small>'
								+'</div>';
						return result;
					}


					function test(obj) {
						console.log(obj);
					}

					$(document).on('click', "#button2", function(e) {
						console.log(e);

						var aa = $(e).data('whatever');
						
						console.log(aa);

						$('#addTask2').modal('show');
					});

				</script>
				<style>
					body {
						margin: 0;
						padding: 0;
						font-size: 14px;
						font-family: "Noto Sans KR", sans-serif;
					}
					#calendar {
						/* width: 1100px; */
						/* max-width: 1600px; */
						margin-top: 10px;
					}
					#calendar2 {
						/* width: 400px; */
						/* max-width: 400px; */
						margin-top: 10px;
					}
					h1, h2, h3 {
						font-family: "Do Hyeon", sans-serif;
					}
					a, a:hover {
						color: #000;
					}
					.popover {
						max-width: 350px;
						/* If max-width does not work, try using width instead */
						width: 350px; 
						max-height: 225px; 
						height: 225px; 
						border-radius: 0;
						/* border-top: 4px solid #f0babb; */
					}
					h3.popover-header{
						color:#000;
						font-weight: bold;
						background-color: #fff;
						border: 0;
					}
					.popover, .tooltip {
						z-index: 1 !important;
					}
				</style>

				<div class='row' >
					<div id="calendar" class="col-9 d-flex"></div>
					<div id="calendar2" class="col-3 d-flex ml-auto"></div>
				</div>

			<!-- 여기에 컨텐츠 임베딩  -->

			</div>
		</div>

		<!-- 선택 모달 -->
		<div class="modal" id="addTask" data-backdrop="static" tabindex="-1" aria-labelledby="..." aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addTaskLabel">Calendar 등록</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<button type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#addTask2" data-dismiss="modal">업무등록</button>
						<button type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#addTask4" data-dismiss="modal">휴가등록</button>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
					</div>
				</div>
			</div>
		</div>

		<!-- 업무등록 -->
		<div class="modal" id="addTask2" data-backdrop="static" tabindex="-1" aria-labelledby="..." aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered modal-xl">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addTaskLabel2">업무 등록</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-6">

								<form>
									<div class="form-row">
										<div class="form-group col-4">
											<label for="recipient-name" class="col-form-label">Date</label>
											<div class="tui-datepicker-input tui-datetime-input tui-has-focus form-control form-control-sm" >
												<input type="text" id="insert-oneDate" aria-label="Date" class="form-control form-control-sm">
												<span class="tui-ico-date"></span>
												<div id="insert-container" style="margin-top: -1px;" ></div>
											</div>
										</div>
									</div>
									<div class="form-row">
										<div class="form-group col-6">
											<label for="recipient-name" class="col-form-label">Status</label>
											<select class="custom-select custom-select-sm">
												<option value="1" selected>Planned</option>
												<option value="2">Ongoing</option>
												<option value="3">Complete</option>
											</select>
										</div>
										<div class="form-group col-6">
											<label for="recipient-name" class="col-form-label">Type</label>
											<select class="custom-select custom-select-sm">
												<option selected>Open this select menu</option>
												<option value="1">One</option>
												<option value="2">Two</option>
												<option value="3">Three</option>
											</select>
										</div>
		
									</div>
									<div class="form-group">
										<label for="message-text" class="col-form-label">Site</label>
										<select class="custom-select custom-select-sm">
											<option selected>Choose Site...</option>
											<option value="1">Site1</option>
											<option value="2">Site2</option>
											<option value="3">Site3</option>
										</select>
									</div>
									<div class="form-group">
										<label for="message-text" class="col-form-label">Chargeable</label>
										<div class="form-group">
											<div class="form-check form-check-inline">
												<input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
												<label class="form-check-label" for="inlineRadio1">Chargeable</label>
											</div>
											<div class="form-check form-check-inline">
												<input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
												<label class="form-check-label" for="inlineRadio2">Non-Chargeable</label>
											</div>
										</div>
									</div>
		
									<div class="form-row">
										<div class="form-group col-6">
											<label for="recipient-name" class="col-form-label">Total Elapsed Hours</label>
											<input type="text" class="form-control form-control-sm" id="recipient-name" readonly>
										</div>
										<div class="form-group  col-6">
											<label for="recipient-name" class="col-form-label">Left Elapsed Hours</label>
											<input type="text" class="form-control form-control-sm" id="recipient-name" readonly>
										</div>
									</div>
									<div class="form-row">
										<div class="form-group  col-6">
											<label for="recipient-name" class="col-form-label">Biliing Hours</label>
											<input type="text" class="form-control form-control-sm" id="recipient-name" placeholder="0.5단위">
										</div>
										<div class="form-group  col-6">
											<label for="recipient-name" class="col-form-label">Working Hours</label>
											<input type="text" class="form-control form-control-sm" id="recipient-name">
										</div>
									</div>
							</div>
							<div class="col-6">
								<div class="form-group">
									<label for="recipient-name" class="col-form-label">Title</label>
									<input type="text" class="form-control  form-control-sm" id="recipient-name">
								</div>

							</form>
								<div id="insert_editor" style="box-sizing: border-box; height: 380px;"></div></div>

						</div>


					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#addTask" data-dismiss="modal">뒤로</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
						<button type="button" class="btn btn-primary">등록</button>
					</div>
				</div>
			</div>
		</div>
    
    <!-- 휴가등록 -->
		<div class="modal" id="addTask4" data-backdrop="static" tabindex="-1" aria-labelledby="..." aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="addTaskLabel2">휴가 등록</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				<div class="modal-body">
					
					<div class="container">
						<form action="">
							<div class="form-row">
								<div class="form-group col-4">
									<label for="message-text" class="col-form-label">Leave Type</label>
									<select class="custom-select custom-select-sm">
										<option selected>Choose leave type</option>
										<option value="1">오전반차</option>
										<option value="2">오후반차</option>
										<option value="3">연차</option>
										<option value="4">병가</option>
										<option value="5">리프레시</option>
									</select>
								</div>
							</div>
							<div class="form-group">
								<label for="message-text" class="col-form-label">Leave Date</label>
								<div class="form-group">
									<div class="form-check form-check-inline">
										<input class="form-check-input" type="radio" name="opt-levDate" id="opt-levDate-one" value="one" checked>
										<label class="form-check-label" for="opt-levDate-one">One Date</label>
									</div>
									<div class="form-check form-check-inline">
										<input class="form-check-input" type="radio" name="opt-levDate" id="opt-levDate-period" value="period">
										<label class="form-check-label" for="opt-levDate-period">Period Date</label>
									</div>
								</div>
							</div>
							<div class="form-row" id="oneDate">
								<div class="form-group col-4">
									<div class="tui-datepicker-input tui-datetime-input tui-has-focus form-control form-control-sm" >
										<input type="text" id="oneDate-input" aria-label="Date" class="form-control form-control-sm">
										<span class="tui-ico-date"></span>
										<div id="oneDate-container" style="margin-top: -1px;" ></div>
									</div>
								</div>
							</div>
							<div class="form-row" id="periodDate" style="display:none;">
								<div class="form-group col-4">
									<div class="tui-datepicker-input tui-datetime-input tui-has-focus form-control form-control-sm">
										<input id="startpicker-input" type="text" aria-label="Date" class="form-control form-control-sm">
										<span class="tui-ico-date"></span>
										<div id="startpicker-container" style="margin-left: -1px;"></div>
									</div>
								</div>
								<span>to</span>
								<div class="form-group col-4">
									<div class="tui-datepicker-input tui-datetime-input tui-has-focus form-control form-control-sm">
										<input id="endpicker-input" type="text" aria-label="Date" class="form-control form-control-sm">
										<span class="tui-ico-date"></span>
										<div id="endpicker-container" style="margin-left: -1px;"></div>
									</div>
								</div>
							</div>

						
							<div class="form-group">
								<label for="lev_title" class="form-label">Title</label>
								<input type="text" name="lev_title" id="lev_title" class="form-control form-control-sm">
							</div>

					
						</form>

						<div id="lev_editor" style="box-sizing: border-box; height: 500px;"></div>

						</div>

						<br>

						<!-- <div id="viewer"></div> -->

						<script src="https://uicdn.toast.com/editor/2.0.0/toastui-editor-all.min.js"></script>


						<script>

							/* eslint-disable no-unused-vars */
							var content = [].join('\n');

							var lev_editor = new toastui.Editor({
								el: document.querySelector('#lev_editor'),
								previewStyle: 'tab',	// vertical
								initialEditType: "wysiwyg",
								height: '380px',
								initialValue: content
							});

							var insert_editor = new toastui.Editor({
								el: document.querySelector('#insert_editor'),
								previewStyle: 'tab',	// vertical
								initialEditType: "wysiwyg",
								height: '400px',
								initialValue: content
							});

							// const viewer = toastui.Editor.factory({
							// 	el: document.querySelector('#viewer'),
							// 	viewer: true,
							// 	height: '500px',
							// 	initialValue: content
							// });

							function ToView()
							{
								viewer.setMarkdown(editor.getMarkdown());
							};

							var today = new Date();
							/* insert date create */
							var datepicker = new tui.DatePicker('#insert-container', {
								date: today,
								input: {
									element: '#insert-oneDate',
									format: 'yyyy-MM-dd'
								},
							// timePicker: true
							});
							/* one date create */
							var datepicker = new tui.DatePicker('#oneDate-container', {
								date: today,
								input: {
									element: '#oneDate-input',
									format: 'yyyy-MM-dd'
								},
							// timePicker: true
							});

							/* period date create */
							var picker = tui.DatePicker.createRangePicker({
								startpicker: {
									date: today,
									input: '#startpicker-input',
									container: '#startpicker-container'
								},
								endpicker: {
									date: today,
									input: '#endpicker-input',
									container: '#endpicker-container'
								},
								selectableRanges: [
									[today, new Date(today.getFullYear() + 1, today.getMonth(), today.getDate())]
								]
							});

							
							/* one date, period date selected */
							$("input[name=opt-levDate]").change(function () {
								console.log($(this).val());

								if ($(this).val() == "period") {
									$("#periodDate").css("display", "");
									$("#oneDate").css("display", "none");
								} else if ($(this).val() == "one") {
									$("#oneDate").css("display", "");
									$("#periodDate").css("display", "none");
								}
							});

						</script>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#addTask" data-dismiss="modal">뒤로</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
					<button type="button" class="btn btn-primary" id="btn_lev_insert">등록</button>
				</div>
				</div>
			</div>
		</div>
    
		<script>
			includeHTML();

			$(document).on('click','#btn_lev_insert', function(){
				alert(lev_editor.getMarkdown());
			});
		</script>
	</body>
</html>